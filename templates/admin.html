{% extends "base.html" %}

{% block title %}Admin Dashboard{% endblock %}

{% block content %}

<h2>Admin Dashboard</h2>

<div style="margin-bottom:20px;">
    <a class="btn" href="/admin/create">Create New Rope</a>
    <a class="btn" href="/admin/logout">Logout</a>
</div>

{% if ropes %}

<table style="width:100%; border-collapse: collapse;">
    <thead>
        <tr style="border-bottom:1px solid #ccc;">
            <th align="left">Rope ID</th>
            <th align="left">Product</th>
            <th align="left">Color</th>
            <th align="left">Thickness</th>
            <th align="left">Length</th>
            <th align="left">Purchase Date</th>
            <th align="left">Status</th>
            <th align="left">View</th>
        </tr>
    </thead>
    <tbody>
        {% for rope in ropes %}
        <tr style="border-bottom:1px solid #eee;">
            <td>{{ rope.rope_id }}</td>
            <td>{{ rope.product_name }}</td>
            <td>{{ rope.color }}</td>
            <td>{{ rope.thickness }}</td>
            <td>{{ rope.length }}</td>
            <td>
                {% if rope.purchase_date %}
                    {{ rope.purchase_date }}
                {% else %}
                    â€”
                {% endif %}
            </td>

            <td>
                {% if rope.status == "ACTIVE" %}
                    <span style="color:green; font-weight:bold;">ACTIVE</span>
                {% elif rope.status == "INSPECTION DUE" %}
                    <span style="color:orange; font-weight:bold;">INSPECTION DUE</span>
                {% elif rope.status == "RETIRED" %}
                    <span style="color:red; font-weight:bold;">RETIRED</span>
                {% else %}
                    {{ rope.status }}
                {% endif %}
            </td>

            <td>
                <a class="btn" href="/rope/{{ rope.rope_id }}" target="_blank">
                    View Rope
                </a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% else %}
    <p>No ropes created yet.</p>
{% endif %}

{% endblock %}
